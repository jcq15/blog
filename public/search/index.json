[{"content":"本文介绍生活中的常见疾病的处理方式及常用药物注意事项。\n免责声明：以下内容仅供参考，不可作为医疗建议，本网站及作者不对本文造成的结果承担任何责任。如需医疗服务或可靠意见，请咨询专业人士。\n文末附录有常备药物列表，懒得看的可以直接拉到最后。\n感冒 鲁迅曾经说过，人总是要感冒的。为此我还专门写过一篇科普。简单来说，其成因是吐沫星子传播或是直接接触病毒[2]。\n感冒属于自限性疾病，不吃药需要一周才能好，吃药的话 7 天就好了。\n目前尚无针对感冒病毒的特效药，包括市面上的所有抗病毒药、抗生素等都对普通感冒无效[3]。推荐的处理方案是：\n 多休息，多喝水，等死等待自愈 开窗通风，降低室内病毒量并防止传染别人 必要时嗑药，缓解不适症状 发生严重并发症、持续高热或其他异常状况，或者发现可能不是普通感冒时，及时去医院就诊  单方药物 具体来说可对症使用以下药物：\n   有效成分 常见药物/成分名 作用     对乙酰氨基酚（Paracetamol） 泰诺，必理通 减轻疼痛和发烧   布洛芬（Ibuprofen） 美林，芬必得 止痛，退烧，消炎   右美沙芬（Dextromethorphan） 氢溴酸右美沙芬 止咳   氯苯那敏（Chlorpheniramine） 马来酸氯苯那敏，扑尔敏 抗组胺，缓解喷嚏流涕等过敏症状   氯雷他定（Loratadine） 开瑞坦 抗组胺，缓解喷嚏流涕等过敏症状   伪麻黄碱（Pseudo-ephedrine） 盐酸伪麻黄碱 缓解鼻塞    复方药物 药店中更常见的是复方感冒药，通常是以上几种成分混合。除此之外常见的复方感冒药成分还有：\n 咖啡因：和非甾体解热镇痛药联用，可增强止痛效果，同时咖啡因可减轻抗组胺药带来的困倦感 金刚烷胺：是一种抗病毒药，但人家是治疗流感的，对普通感冒无效，不要选用 中药成分：不仅无效，还会带来未知风险，不要选用  一般来说，能用单方就不用复方。图省事使用复方感冒药，可能反而吃进去许多并不需要的药物。最好的处理方案就是按照上面表格，有什么症状吃什么即可。\n抗生素 目前，我国抗生素滥用严重，为减少耐药菌的产生，保持抗生素的有效性，除非有明确细菌感染的指标（需要去医院化验），否则不建议使用抗生素。抗生素只对细菌感染有效，普通感冒是无效的[4,5]。\n其他注意事项  对乙酰氨基酚合理使用十分安全，但过量使用可能导致严重肝损伤。美国 FDA 规定对乙酰氨基酚每日用量不超过 4g 咳嗽有助于排出呼吸道内的分泌物，因此除非咳嗽严重到影响了睡眠或导致极大不适，否则不推荐使用止咳药 马来酸氯苯那敏会产生嗜睡、头晕的副作用，服用后严谨驾驶或操纵精密仪器，否则危险性堪比酒驾；氯雷他定则无明显嗜睡作用 伪麻黄碱是拟交感胺类药物，运动员慎用。同时其可能可以用来制作冰毒（在我国生产、运输、贩卖、非法持有毒品都是犯罪行为，请不要动歪脑筋），因此购买通常需要实名登记 以上药物合理使用都很安全，利大于弊，没必要因为担心副作用而硬抗 许多感冒药都是以上几种成分组合，如果同时服用多种药物，很有可能引起药物过量，因此一定要看好各种成分的含量  腹泻 腹泻（仅讨论急性腹泻，慢性腹泻请就医）是指排便量、大便水分以及排便频率增加。多数腹泻不会造成什么后果，但严重腹泻会导致脱水、电解质紊乱，搞不好就嗝屁，因此不可掉以轻心。\n需要立刻就医的情况 出现以下情况请立刻就医[6]：\n 血便、黑便及柏油样便，哎呀吓人； 持续高热不退，哎呀真烫； 出现脱水体征，哎呀好虚； 伴随明显、剧烈的腹痛，哎呀难受。  补液 多喝液体（果汁、肉汤）等，补充水分及电解质。也可使用世界卫生组织推荐的口服补液盐。口服补液盐有三个版本，第一个版本叫口服补液盐Ⅰ，第二个版本叫口服补液盐Ⅱ，你猜第三个版本叫什么？\n答对了，叫口服补液盐Ⅲ。（好冷啊）\n简单来说，版本越高配方越完善，但低版本的也能用。注意事项：\n 口服补液盐要严格按照说明书要求的浓度配制，不然渗透压不对可能弄巧成拙 不要用果汁、牛奶、茅台等奇怪液体配制  止泻药 感染性腹泻不建议盲目使用止泻药，有可能把病菌排出去会更好[6]。非感染性腹泻可以服用蒙脱石散。注意蒙脱石散有吸附作用，和其他药物同时服用可能降低药效。\n抗生素 仍然不能盲目使用抗生素。病毒、渗透或着凉引起的腹泻，根本没人家细菌什么事，抗生素没用。只有去医院检查发现明确的细菌感染指征才有必要使用抗生素。\n炎症与抗炎药 抗生素？ 首先，请允许我用数学公式环境澄清一个概念： $$ \\text{消炎药}\\ne\\text{抗生素}. $$ 炎症是一种症状，包括红肿、发热、疼痛等，消炎药指的是可以减轻这些症状的药物。消炎药的作用往往都是缓解症状。而抗生素是抑制细菌生长或杀死细菌的药物，只对细菌感染有效。有炎症不一定是细菌感染，病毒感染、真菌感染、过敏、外伤等都可能导致炎症，这些情况吃抗生素吃到饱也没用。\n类固醇 常见的消炎药包括类固醇和非甾体抗炎药。类固醇药物主要是一些激素，最常见的是氢化可的松软膏（糖皮质激素），外用，治疗皮炎、皮疹等。激素类药物不建议过多使用，一般来说使用炉甘石洗剂风险更小。\n非甾体抗炎药（NSAID） 非甾体抗炎药是本场的主角。许多一线药物已临床使用数十年，安全可靠，解热镇痛抗炎效果良好，是杀人越货居家旅行的必备药物。\nNSAID 是一大类药物，但对于生活中自己处理的常见病，使用布洛芬就够了。如果疼痛严重，可以去医院开止痛效果更好的处方药。\n其他常见情况与药物 过敏 过敏通常使用抗组胺药。一共有三代，而非处方药主要集中在第一代和第二代：\n 第一代：苯海拉明，氯苯那敏 第二代：氯雷他定，西替利嗪  最主要的区别是：第一代吃了困。第二代吃了不困，作用时间长，一口气上五楼不费劲。至于第二代的缺点嘛，贵。\n万能皮肤药-炉甘石洗剂 隆重请出堪称“万能皮肤药”的炉甘石洗剂。便宜大碗，老少皆宜。其主要成分是炉甘石，有收敛和保护作用。他能干什么呢：\n 蚊虫叮咬 痱子、湿疹、皮肤过敏 轻度晒伤  总之，基本上只要皮肤没破损，都可以涂它一手。但还是有注意事项的：\n 用前摇一摇 皮肤破损禁用 重复涂抹时，要先把上一次残留的痕迹擦掉，使得洗剂能和皮肤直接接触  外伤 普通外伤建议使用碘伏消毒，对皮肤无刺激性，不疼。不建议用酒精，因为疼。而如果发生了感染，可以使用外用抗生素，例如莫匹罗星软膏。\n其他 包括一些器材，比如体温计、创可贴等。比较推荐电子体温计，方便快捷，又没有水银泄露的风险。\n其他常用工具 默沙东诊疗手册家庭版 链接：https://www.msdmanuals.cn/home\n 一站式提供全面、可靠、浅显、实用的医学信息 适合非医学专业人士 完全免费，访问便捷  相比网上各种宣传伪科学的自媒体，不知道高到哪里去了。\n参考文献  【科普】感冒了怎么办 https://mp.weixin.qq.com/s/bUmmOi6Po9HwFwtHHV8ZHw Common cold - Wikipedia https://en.wikipedia.org/wiki/Common_cold https://www.msdmanuals.cn/home/infections/respiratory-viruses/common-cold?query=%E6%84%9F%E5%86%92 https://dxy.com/column/7878 https://dxy.com/column/4707 https://dxy.com/disease/9806/detail https://www.msdmanuals.cn/home/digestive-disorders/symptoms-of-digestive-disorders/diarrhea-in-adults?query=%E8%85%B9%E6%B3%BB http://gi.dxy.cn/article/593006  附录：常备药物列表    药物 主要用处     对乙酰氨基酚 解热镇痛   布洛芬 解热镇痛抗炎   氢溴酸右美沙芬 止咳   马来酸氯苯那敏 抗过敏，可用于感冒   氯雷他定 抗过敏   蒙脱石散 止泻   口服补液盐 腹泻时补液   炉甘石洗剂 万能皮肤药   莫匹罗星软膏 外用抗生素   碘伏 皮肤外伤消毒   创可贴 外伤   电子体温计 测体温   ","date":"2021-08-20","permalink":"https://blog.shadiao.online/post/changyongyao/","tags":["科普"],"title":"常见疾病及常备药物"},{"content":"先简单讲讲 MLE。之后会补充方差分析，以及从 GLE 的角度把线性回归和方差分析统一起来。\n基本模型 多元线性回归（MLE）模型是 $$ \\mathbf{Y} = \\mathbf{X}\\boldsymbol{\\beta}+\\boldsymbol\\varepsilon. $$\n各矩阵大小为：\n $\\mathbf{Y}: n\\times1$ $\\mathbf{X}: n\\times p$ $\\boldsymbol\\beta: p\\times n$ $\\boldsymbol\\varepsilon:p\\times n$  误差项满足 $\\boldsymbol\\varepsilon\\sim N(0, \\sigma^2\\mathbf{I})$.\n这里面有两个参数：$\\boldsymbol{\\beta}$ 和 $\\sigma^2$。\n注意参数的个数，$\\boldsymbol\\beta$ 的维度是 $p$，意味着有 $p-1$ 个解释变量和 $1$ 个截距项。可能有的教材习惯把解释变量个数记作 $p$，此时 $\\boldsymbol\\beta$ 就是 $p+1$ 维。\n参数估计 $\\hat{\\boldsymbol\\beta}$ 回忆高斯－马尔可夫定理(Gauss-Markov Theorem)：在线性回归模型中，如果误差满足零均值、同质方差且互不相关，则回归系数的最佳线性无偏估计就是普通最小二乘法估计。\n使用最小二乘法，容易算出其最佳线性无偏估计是 $$ \\hat{\\boldsymbol{\\beta}}=(\\mathbf{X}^{\\mathrm T}\\mathbf{X})^{-1}\\mathbf{X}^{\\mathrm T}\\mathbf{Y}. $$\n它服从正态分布 $N(\\boldsymbol\\beta, \\sigma^2(\\mathbf{X}^{\\mathrm T}\\mathbf{X})^{-1})$。\n$\\hat\\sigma^2$ $\\sigma^2$ 的估计则类似于“样本方差”： $$ \\hat\\sigma^2=\\dfrac{(\\mathbf{Y}-\\hat{\\mathbf{Y}})^{\\mathrm T}(\\mathbf{Y}-\\hat{\\mathbf{Y}})}{n-p}. $$\n我们知道，独立标准正态分布的平方和是卡方分布，即 $$ \\chi^2_k\\sim \\sum_{i=1}^kN(0,1). $$\n$k$ 称为卡方分布的自由度，并且有 ${\\mathrm E}(\\chi^2_k)=k$。\n关于多元正态分布和卡方分布，我们有一个重要结论：设 $X\\sim N_p(0,\\sigma^2I_p)$，$A$ 是对称幂等矩阵，且 $\\mathrm{rank}(A)=r$，则二次型 $X^{\\mathrm T}AX/\\sigma^2\\sim \\chi^2_r$。\n计算可得，$(\\mathbf{Y}-\\hat{\\mathbf{Y}})^{\\mathrm T}(\\mathbf{Y}-\\hat{\\mathbf{Y}})=\\boldsymbol\\varepsilon^{\\mathrm T}(\\mathbf I - \\mathbf{X}(\\mathbf{X}^{\\mathrm T}\\mathbf{X})^{-1}\\mathbf{X}^{\\mathrm T})\\boldsymbol\\varepsilon$。中间那个矩阵是对称幂等矩阵，秩是 $n-p$，而 $\\boldsymbol\\varepsilon$ 是一个多元正态分布，所以\n$$ (n-p)\\hat\\sigma^2/\\sigma^2\\sim \\chi^2_{n-p}. $$\n从而 $\\hat\\sigma^2$ 是 $\\sigma^2$ 的一个无偏估计。\n决定系数 预备知识：方差分解 我们来观察这个式子： $$ y = \\beta_0+\\beta_1x_1+\\cdots+\\beta_{p-1}x_{p-1}+\\varepsilon, $$ 我们得到了一堆 $y_i$，它们互不相同。有两个原因造就了 $y_i$ 之间的差异：\n $x$ 不同导致 $y$ 不同（由自变量解释的部分） 随机误差 $\\varepsilon$   这里的记号非常恶心。有的教材里把 E 当作 explain，R 当作 residual；有的地方又把 E 当作 error，R 当作 regression。这导致 R 和 E 在不同场合表达完全相反的含义。并且有的地方把 SS 放前面，称作“SSE，SSR”，又有的地方放后面，叫“ESS，RSS”。建议谁来规范一下这里的乱象。\n 骂完了，接着看。$y_i$ 之间的差异性可以用总平方和 $S^2$ 来衡量： $$ S^2=\\sum_i (y_i-\\bar y)^2. $$ 回归模型做的事情就是让自变量来解释因变量的变化，所以由自变量解释的部分可以用拟合的 $\\hat y$ 的均方和 $S_1^2$ 来衡量。由于 $\\bar{\\hat y}=\\bar y$，我们有 $$ S_1^2=\\sum_i (\\hat y_i-\\bar y)^2. $$ 随机误差的影响就是剩下的部分 $S_2^2$： $$ S_2^2=\\sum_i(y_i-\\hat y_i)^2. $$ 我们有一个非常漂亮的结论： $$ S^2=S_1^2+S_2^2. $$ 证明留给读者作为练习。这一结论成功将 $y_i$ 的差异性分成了两部分：可被回归模型解释的部分和随机误差。\nR 平方 （R-squared） 我们定义决定系数（coefficient of determination） $$ R^2=1-\\dfrac{S_2^2}{S^2}. $$ 这种定义对于回归模型都适用（包括非线性回归）。我们认为回归之前，$y$ 的变动完全由随机误差造成，也就是随机误差占比为 $1$；而在回归之后，随机误差占比为 $\\dfrac{S_2^2}{S^2}$，活活减少了 $R^2$ 这么多，这就是回归模型的功劳！\n调整后的 R 平方（Adjusted R-squared） $R^2$ 有一个缺陷，只要我们无脑增加解释变量的个数，哪怕增加的是随机误差，$R^2$ 也不会下降（通常都是增加），也就是所谓的“力大砖飞”。证明留作习题（只要注意线性回归的优化目标和 $R^2$ 的关系即可）。\n调整后的 $R^2$ 增加了一个惩罚项，使得解释变量越多，它的值越小。 $$ R^2_{\\rm adj}=1- \\dfrac{S_2^2/(n-p)}{S^2/(n-1)}. $$\n$S_2^2$ 就是 $(\\mathbf{Y}-\\hat{\\mathbf{Y}})^{\\mathrm T}(\\mathbf{Y}-\\hat{\\mathbf{Y}})$，即 $\\dfrac{S_2^2}{\\sigma^2}\\sim \\chi^2_{n-p}$. 而 $S^2$ 是正态分布的样本方差，所以 $\\dfrac{S^2}{\\sigma^2}\\sim\\chi^2_{n-1}$. 这样一来，所谓“调整”其实就是除以了各自的自由度。\n（再次强调一定要搞清楚究竟是 $p$ 还是 $p+1$，这是很多资料记号不一致，容易混淆的地方。）\n决定系数和相关系数有啥关系 两组数据 $x_i,y_i$ 的相关系数定义为 $$ \\rho(x_i, y_i)=\\dfrac{{\\rm Cov}(x_i,y_i)}{\\sqrt{{\\rm Var}(x_i){\\rm Var}(y_i)}}. $$ 一般来说，决定系数和相关系数是 Java 和 Javascript 的关系。但对于线性回归模型，我们可以证明： $$ \\rho(y,\\hat y)=\\sqrt{R^2}. $$ 关于相关系数和 R 方的更多讨论可以移步这里。由于不是核心内容，就不过多介绍了。\n假设检验 常用的是 $t$ 检验和 $F$ 检验。\n$t$ 检验 独立的标准正态分布除以卡方分布的平方根就得到 $t$-分布。\n设 $X\\sim N(0, 1),\\ Y\\sim\\chi^2_p$，$X, Y$ 独立，则定义 $$ \\dfrac{X}{\\sqrt{Y/p}} $$ 是自由度为 $p$ 的 $t$-分布。\n我们可以从样本均值和样本方差导出 $t$-分布。设 $\\bar X, S^2$ 分别是从 $N(\\mu, \\sigma^2)$ 中抽样得到的 $n$ 个样本的样本均值和样本方差，则由正态分布的性质知：\n $\\bar X$ 和 $S^2$ 独立 $\\bar X\\sim N(\\mu, \\sigma^2/n)$ $(n-1)S^2/\\sigma^2\\sim \\chi^2_{n-1}$  于是 $$ \\dfrac{\\bar X-\\mu}{\\sqrt{S^2/n}} $$ 就是自由度为 $n-1$ 的 $t$-分布。\n言归正传，我们想要检验某一个回归系数 $\\beta_j$ 是不是 $0$。构造统计量 $$ t_j=\\dfrac{\\hat\\beta_j-\\beta_j}{\\sqrt{\\hat\\sigma^2(\\mathbf{X}^{\\mathrm T}\\mathbf{X})^{-1}_{jj}}}. $$ 线性回归中有一个结论：$\\hat{\\boldsymbol{\\beta}}$ 和 $\\hat\\sigma^2$ 独立。因此 $t_j$ 服从自由度为 $n-p$ 的 $t$-分布。\n接下来，把 $\\beta_j=0$ 和估计出来的 $\\hat\\beta_j$ 带入，算出 $t$ 值，再查表得到 p-value 即可。\n$F$ 检验 将两个独立的卡方分布分别除以自由度，然后再相除，可以得到 $F$ 分布： $$ F(d_1,d_2)=\\dfrac{\\chi^2_1/d_1}{\\chi^2_2/d_2}. $$\n对于模型 $y=\\beta_0+\\beta_1x_1+\\cdots+\\beta_{p-1}x_{p-1}+\\varepsilon$，$F$ 检验零假设为 $$ H_0:\\beta=\\beta_1=\\cdots=\\beta_{p-1}=0. $$ 即各个回归系数都是 $0$（**不包括 $\\beta_0$**）。如果 $H_0$ 成立就房倒屋塌完犊子了，满地飘零。我们构造的统计量是 $$ F=\\dfrac{S_1^2/(p-1)}{S_2^2/(n-p)}. $$\n$S_2^2$ 的分布前面讨论多次了。而 $S_1^2=(\\hat{\\mathbf{Y}}-\\bar{\\mathbf{Y}})^{\\mathrm T}(\\hat{\\mathbf{Y}}-\\bar{\\mathbf{Y}})$. 记 ${\\mathbf 1}_n$ 为 $n\\times n$ 的全 $1$ 矩阵，在 $H_0$ 成立时有 $\\hat{\\mathbf{Y}}-\\bar{\\mathbf{Y}}=\\left(\\mathbf{X}(\\mathbf{X}^{\\mathrm T}\\mathbf{X})^{-1}\\mathbf{X}^{\\mathrm T}-\\frac{1}{n}\\mathbf{1}_n\\right)\\boldsymbol\\varepsilon $ .\n可以验证，$\\mathbf{X}(\\mathbf{X}^{\\mathrm T}\\mathbf{X})^{-1}\\mathbf{X}^{\\mathrm T}-\\frac{1}{n}\\mathbf{1}_{n}$ 是对称幂等矩阵，秩为 $p-1$（该命题的证明可作为经典的线性代数题目，请自行练习）。\n于是 $S_1^2/\\sigma^2\\sim\\chi^2_{p}$. 从而 $F\\sim F(p, n-p-1)$.\n这个统计量的含义便是看 $S_1^2$ 和 $S_2^2$ 谁占上风。$F$ 越大，表明能被回归解释的部分越大，所以线性模型是成功的，也就越有可能拒绝 $H_0$。\n区别与联系 简单来说，$F$ 检验是判断线性模型是否正确，如果不显著，可能要考虑换其他模型；而 $t$ 检验用来判断模型中是否该有这个变量。\n$t$ 检验判断单个系数是否为 0，$F$ 检验判断整体是否为 0. 看起来是重复的——我对每个系数都做一次 $t$ 检验不就可以代替 $F$ 检验了吗？其实不然。有以下两个原因：\n 假设检验的个数越多，第一类错误概率越大 多重共线性（Multicollinearity）会导致所有 $t$ 检验显著时，$F$ 检验不显著  这又是个巨大无比的坑，不展开写了……\n结语 本文只是快速浏览了一遍线性回归的相关知识，很多地方写的不详细。复习时可以以此为线索，遇到不熟悉的地方再去查找其他资料。里面提到的没有证明的结论也最好自己亲自推导一下，很有意思。\n","date":"2021-08-15","permalink":"https://blog.shadiao.online/post/linearregression/","tags":["学习"],"title":"线性回归快速开始"},{"content":"”家里姐姐妹妹都没有，单我有，我说没趣儿；如今来了这个神仙似的妹妹也没有，可知这不是个好东西。“\n稻草人 指夸张、歪曲，甚至凭空创造别人的观点，使自己能够更加轻松的攻击别人。\n 例：\n赵铁柱：你怎么不回我消息？\n李华：啊？我刚才一直在开会，没看见。\n赵铁柱：你果然是不爱我了！\n 李华因为忙工作没有及时回消息，却被女朋友赵铁柱曲解为“你不爱我了”，这就是典型的稻草人谬误。所以这时候应该严厉指出女朋友犯了稻草人谬误，这样她就会认错了（划掉）。\n 例：\n李华：国家应该投入更多的预算来发展教育行业。\n赵铁柱：想不到你这么不爱国，居然想减少国防开支，让外国列强有机可乘。\n 李华的观点本来是“增加教育行业的预算”，却被歪曲成“想减少国防开支”，进而上升到不爱国，这帽子扣的，帽子戏法啊！\n 例：\n李华：不能因为中医是老祖宗传下来的，就认为他是对的。老祖宗也会犯错。\n赵铁柱：作为一个中国人你竟然这么不热爱传统文化，说传统文化是错的？\n 李华的观点是：“通过老祖宗来论证中医的正确性”这一论证过程是不对的，可赵铁柱把它歪曲成“不热爱传统文化”，甚至于“传统文化都是错的”。（画外音：没给你扣个境外势力的帽子就偷着乐吧）（此外，这句话还有强加因果的问题）\n练习：\n 甲：“我们应该追责隐瞒疫情导致瘟疫扩散的官员。” 乙：“现在最重要的是救灾，应该把重心放在救灾上。”  红鲱鱼（转移话题） 将一个不相干的话题插进来，从而把读者或者听众的注意力转移到另一个论题上，赢得论战。它的基本顺序是：\n A 话题正在被讨论 B 话题突然插了进来，好像和A有关，但实际上并不相关 A 话题被置之不理  红鲱鱼和稻草人有点相似。倒不必非要分得那么清楚，只要知道它们都是错误的论证方式就行了。\n 例：\n李华：中药的研发过程不符合科学要求。\n赵铁柱：你不试试怎么知道有没有用？\n 这里李华在讨论中药研发过程是否合理，而赵铁柱绕开对研发过程的讨论，转而讨论“通过亲自尝试来证明有效性”这一话题。\n 例：\n路人：这小鲜肉演技也太差了吧？尴尬癌犯了。\n粉丝：你知道他有多努力吗？\n 粉丝把话题从其业务能力转移到某明星个人的努力上。\n需要注意的是，B 话题可能确实有讨论价值，但转移到 B 话题并不能驳倒 A 话题。A 话题所带来的问题仍未解决。此外，如果一直转移话题，会产生越来越多的没讨论完的话题，迟早爆栈，所以转移话题这种操作不讲武德。\n因果谬误 因果谬误泛指各种未有充分证据便轻率断定因果关系的不当推论。\n 例：\n李华感冒了，吃了一些感冒药，结果发烧了。所以是感冒药导致疾病恶化。\n 这里的错误在于，并不能证明发烧是感冒药导致的。可能是感冒导致的发烧，不吃药还是会发烧（甚至烧的更厉害）。\n 例：\n冰淇淋会导致溺水，因为有数据表明冰淇淋的销量和溺水事故发生数正相关。\n 我们暂且认为数据是准确的，确实冰淇淋的销量和溺水率正相关。但它们之间仅仅是相关性，并没有因果关系。事实上，可能是天气炎热导致冰淇淋销量上升，同时也导致人们游泳变多，溺水事故自然也变多了。\n 例：\n男同性恋中艾滋病患者那么多，说明同性性行为会导致艾滋病。\n 同样地没有证据，强加因果。\n诉诸感情 就是情感绑架。\n 例：\n猪猪那么可爱，怎么可以吃猪肉呢？猪猪就跟小朋友一样，你怎么忍心伤害小朋友？\n  例：\n你是中国人，你连我们老祖宗留下来的中医都不信？\n  例：（诉诸自然）\n异性相吸是自然规律，所以同性恋是不合理的。\n 认为一个事物是“自然”的，所以它是合理、必然并且更好的。这是不对的，这也算诉诸感情的一种。一个事物是自然的并不一定代表它就更好。例如弱肉强食是大自然中普遍存在的现象，这不能证明社会达尔文主义的正确性。\n诉诸感情详细说来，有很多种，这里就不一一列举了：\n 诉诸恐惧：某事会产生某种可怕的后果，因此我们应该反对某事或接受预防某事的建议 诉诸厌恶：某事令人恶人，因此是不对的 诉诸仇恨：某事有些令人不愉快的相关经验，因此不该支持某事 诉诸谄媚：奉承与谄媚他人，冀使其支持自己的观点。 诉诸怜悯：挑起对方的同情与愧疚，以博取他人支持自己的想法。 诉诸荒谬：主张对方的说词荒谬、可笑、幽默，因而该说法不值得接受。 诉诸自然：某个现象很自然，因而是可取的；或主张某个现象不自然，因而是不可取的。 诉诸新潮：宣称某事物最新、最符合时代潮流，以吸引他人接受。 非我所创：某观念或知识是由外人所创造，而对其不信任或低估其价值。 是我所创：某观念或知识是由自己人所创造，而对其不信任或低估其价值。  片面谬误 主张某些情况是一般性原则的例外，却提出无关的理由。\n 例：\n我国国情不同，因此西式民主暂时不适合我国。\n 一句“国情不同”草草了事是没有说服力的，必须有合理的理由说明国情有何不同，并论证此等不同为何会导致“西式”民主不适用。否则随便一个什么理论，都可以套用一个“XX不同，所以不适合”。\n 例：\n女生该注重外表，应该常保自己的外表干干净净的，应该留长头发但不该有体毛，而且皮肤要白、身材要瘦、身上不能有痘子或疤痕；不过男生和女生不一样，不必注重外表。\n 男女之间的确存在客观差异，但不能仅仅因为男女存在差异，就论证某些规则对女生适用但对男生不适用。必须明确指出男生和女生在哪一方面有差异，这种差异又是怎样导致了这些规则不适用，否则就是胡诌八扯。\n 例：\n为了节省开支，员工出差只准买最便宜的机票，但我是老板，所以我可以买最好的。\n 要有合理的理由说明为什么身为老板就能买最好的机票，而其他员工必须节省支出。\n转移举证责任/诉诸无知 这两个放在一起讲，因为常常同时出现。\n诉诸无知的意思是，某件事不能证明是错的，就认为它是对的。\n转移举证责任则是违背了“谁主张谁举证”的原则。要由观点/理论/方法的提出者证明它是对的，而不是让别人证明它是错的。\n 例：\n没有人能证明飞天拉面之神不存在，所以应该相信飞天拉面神教。\n 显然，应该由提出者证明飞面神存在，然后人们才会相信。如果提出观点的人将举证责任推卸给别人，就是一种谬误了。\n（但飞面神真的存在！（逃））\n 例：\n中药有用，因为你不能证明它无用。\n 乐队花车（从众效应） 意思是将许多人或所有人所相信的事情视为真实。正所谓“参加者只要跳上了这台乐队花车，就能够轻松地享受游行中的音乐，又不用走路”，也因此英文词组“jumping on the bandwagon”（跳上乐队花车）就代表了“进入主流”。\n实际上，一个事物、观点的流行程度和它本身是否合理没有关系。地球是球形的，在人们相信地球是平的时代的时候，地球也是球形的，地球才不管你信不信它。\n 例：\n3亿人都在用拼夕夕，你怎么还不下载？\n 大家都用，就一定是好的？\n 许多事实证明，多数或所有人相信的事情，在当下或经过时间的演进，并不一定是对的。例如在18世纪，美国绝大多数人都认为这世界上可以有奴隶存在，但在今日美国有这样想法的人已经很少了。或是有人可以宣称“因为有那么多人吸烟，所以吸烟是健康的”，但事实上许多医学证明指出吸烟有害健康，所以应该说：“吸烟有害健康，虽然有那么多人吸烟。\n（引自《每天学点心理学》，牧之著）\n 诉诸权威 要证明一个观点，只是摘录别人的观点是不够的， 至少要知道所提到的权威为什么有那样的观点，他的依据是什么。应该是“某权威提出XX，依据是XX，所以XX”，而不是“某权威提出XX，所以XX”。\n 例：\n钟南山说板蓝根可以用来预防新冠。\n 仅仅这样是不足以让人相信的，因为没有论证。实际上，真正严谨的文章都会在提出观点的同时附带上理由。权威之所以是权威，是因为他们总能提出令人信服的理由。是理由让我们相信观点，而不是权威让我们相信观点。否则，“权威”便和“神棍”无异。\n 例：\n电视上都说了，这四种食物吃了可以防癌！你快转发到你加的群里！\n 电视其实根本不是权威……不过无所谓了。\n 注：乐队花车和诉诸权威往往同时出现。在流量小鲜肉粉丝的吹嘘中会经常看到乐队花车和诉诸权威的谬误，粉丝们会拿出一系列数据来证明他们的偶像多么受欢迎，又会拿出种种奖项来说他们的偶像有多么专业，但其实数据都是粉丝刷出来，奖项也只是注水分的，所以这两点并不能说明这个流量小鲜肉的作品有多么的好。\n引自：乐队花车谬误到底是什么？ - Nevoeiro的回答 - 知乎 https://www.zhihu.com/question/351149817/answer/888174693\n 没有真正的苏格兰人 指在遇到反例时修改标准。\n 例：\n李华：广东人都喜欢吃福建人。\n赵铁柱：我是广东人，我就不喜欢吃福建人。\n李华：你不是真正的广东人，真正的广东人都喜欢吃福建人。\n 设 $A$ 为广东人集合， $B$ 是喜欢吃福建人的人集合，李华认为 $A\\subset B$，赵铁柱却给出一个反例：$a\\in A$，但$a\\notin B$。然后李华说，还存在一个“真正的$A$”集合——$A_{True}$， 满足 $A_{True}\\subset B$。可仔细想想，$A_{True}$ 的定义是 $A_{True}:=A\\cap B$，所以 $A_{True}\\subset B$ 是完全正确的。可是这毫无意义，原来的问题并没有解决——**给出 $A$ 中的一个元素，我们还是不知道它是否在 $B$ 中。**\n最典型的例子当属中医粉的常见言论：xx不是真正的中医：\n 例：\n李华：我家楼下那个中医诊所，前几天给人开中药耽误了治疗，那人病死了。\n赵铁柱：那肯定不是真正的中医，真正的中医是很厉害的，连未病都能治，更不可能把人治死。\n 当然，即便李华说的是事实，也不能就此说明中药能吃死人，因为只是个案。但赵铁柱反驳的方式是错的，也犯了逻辑谬误。\n轶事证据 就是编了一个栩栩如生的故事，然后通过这个故事得出了结论。有些传闻往往细节详细、诩诩如生，让人印象深刻；有些案例则以新闻、八卦的形式被人一传再传，造成三人成虎，让人听久了便信以为真。\n这种奇葩论证手法广泛见于：卖祖传秘方的电视广告、“相亲相爱一家人”微信群、高中语文课堂和高中文科生作文等逻辑重灾区。\n 例：\n我给你讲个故事，真事的。我隔壁老王头，今年90多岁了，我那天出门拉屎碰见他，问他怎么保养得这么好，活了这么久。人家点了一根烟，不紧不慢地说：“我觉得吧，现在人压力都太大，不会发泄。像我，饭前便后都抽一根烟，我抽的是美国进口的核弹，啊不是，美国进口的养生烟，劲大，疏通血管杠杠的！”完后人家从裤裆里掏出一条烟，800块钱一包啊，他说看我小子面善，给我打个骨折，10块钱卖我。这不，我一口气卖了10包，从今天开始你也饭前便后抽这个核弹，啊不是，养生烟！\n 看起来像一本正经的胡说八道，但仔细回想一下，许多保健品、中医药是不是都是这个套路？\n这种论证方式犯了两个错误：\n第一，没法确认这件事的真实性。讲述人可能是从上一个讲述人那里听来的故事，而上一个讲述人可能骗他；即便没有故意骗他，在不断口耳相传的过程中也会产生极大的偏差。即便此故事是讲述人亲眼所见，记忆也可能出现偏差，更不用说眼见未必为实——\n第二，即便这件事是真实客观的，仅仅凭一个孤例也不能证明什么。就像上例，老王真的天天抽烟活了90多岁，有可能人家包了八个二奶，心情舒畅才活得久。也有可能人家要是不抽烟，能活200岁，抽烟导致只活了90岁。“孤例不证”乃是做人最基本的底线。\n德克萨斯神枪手 名字逐渐怪异起来。他还有一个更形象的说法叫“先射箭再画靶”。通俗地讲，就是在大量的数据/证据中刻意地挑选出对自己的观点有利的数据/证据，而将其余对自己不利的数据/证据弃之不用。\n 例：\n1992年瑞典有个研究试图找出电源线对健康的影响，他们收集了高压电源线300米范围内所有住户的样本长达25年，对超过800种疾病一一检查发生率的统计差异。他们发现幼年白血病的发病率是一般人的4倍，还推动政府为此采取行动。\n 要解释这个问题，需要点统计学知识。一般来说统计上 p-value \u0026lt; 0.05 便认为显著，而这种显著性有 5% 的概率是因为随机因素引起的。当我们统计 800 种疾病，至少有一种疾病由随机因素产生“假阳性”结果的概率是： $$ 1-(1-0.05)^{800}\u0026gt;1-10^{-17} $$ 也就是说，如果我们故意针对它，我们有超过 $1-10^{-17}$ 的概率找到一种疾病来让它背锅，而实际上这只是随机因素引起的。\n数据聚集现象无处不在。比如我们在平面上随机生成一些点，总会有某些区域的数据恰好呈现出某种规律性，想要寻找某种解释的人一定会找到一种解释。\n当遇到一些巧合时，经常有人会说“哪有那么巧的事？一定是超自然力量作祟”。但是仔细想想，我们生活了这么多年，见过和经历过大大小小的事件不计其数，要是一次巧合都没有遇到过，那才是巧了。\n不当类比 就是字面意思，不合适的类比。多见于心灵鸡汤。\n 例：\n李华整天只顾读书，却不认真赚钱谋生，妻子赵铁柱无法忍受决定和他离婚。几年后小朱成为大官，衣锦还乡。妻子要求和他复合，李华不同意。妻子问为什么，李华把水泼在地上说：“我们的关系就像这水一样，再也收不回来了。”\n 如果李华只是想气赵铁柱，这样是没问题的。但如果李华像把“覆水难收”当作不能复合的理由，则并没有回答赵铁柱的问题。覆水的确难收，但那和婚姻有什么关系？\n 例：\n牛天天吃草，身体那么壮，所以吃素有益健康。\n  例：\n彩虹，在大雨后出现；腊梅，在风雪中吐蕊；雄鹰，在险峰上空盘旋；人，在困境中弥坚。\n 即便彩虹、腊梅、雄鹰都这样，也不能证明人就非得遭遇点什么困境才能成长。（当然，写作文的时候泼点鸡汤增强气势没问题，但要清楚，这不能用于论证，顶多用于论证之后锦上添花）\n没事不要瞎比喻，即便 A 和 B 有相似之处，也不能认为对 A 成立的结论对 B 也成立，更何况许多不当类比中，被比较的两件事一毛钱关系都没有。\n滑坡谬误 认为一件事，如果发生了A，就会发生B，接着会发生C，…… 那么Z也一定会发生，以此来表示A不应该发生。\n 例：\n如果我们允许和同性结婚，那是不是也能和动物结婚？是不是也能和纸片人、桌椅板凳结婚？\n 能同性结婚不意味着可以和动物结婚，也不意味着和纸片人结婚！\n 例：（不玩炉石的同学们可以忽略这条）\n一个詹姆斯（银背族长）能单防4个报告兵，4个报告兵能打4个岩浆暴怒者，4个岩浆暴怒者能打4个竞技场主宰，4个竞技场主宰能打4个伊瑟拉，所以詹姆斯=4个伊瑟拉。詹皇，永远滴神！\n 虽然但是，银背族长 yyds！\n后记 需要说明：\n 很多人想当然地认为，如果一句话有逻辑谬误，就错了。实际上，这又犯了逻辑谬误 —— 包含逻辑谬误的句子，其结论可能是对的，也可能是错的。但不论结论对错，其论证方式一定是不合理的，从而导致这句话并没有为论证观点提供任何正面或负面的帮助。 在日常聊天中往往不必太注意细节，否则会被不懂这些的人扣上“低情商”、“直男”之类的帽子。（不过被扣这种帽子倒不见得是坏事） ","date":"2021-07-26","permalink":"https://blog.shadiao.online/post/luojimiuwu/","tags":["科学素养"],"title":"教你如何做杠精 —— 经典逻辑谬误"},{"content":"为了便于维护，记录一下常用操作，这样就不用每次都到处查了。\n配置文件在 /etc/nginx/nginx.conf。\n添加一个 https 站点 修改 nginx 配置文件 配置文件中增加：\nserver {\rlisten 443 ssl;\rserver_name [name].shadiao.online;\rssl_certificate /etc/letsencrypt/live/shadiao.online/fullchain.pem;\rssl_certificate_key /etc/letsencrypt/live/shadiao.online/privkey.pem;\rssl_session_timeout 5m;\rssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; #加密算法\rssl_protocols TLSv1 TLSv1.1 TLSv1.2; #安全链接可选的加密协议\rssl_prefer_server_ciphers on; #使用服务器端的首选算法\rlocation / {\r# write something\r}\r}\r 修改里面的 server_name。\nlocation 部分，静态页面：\nlocation / {\radd_header Access-Control-Allow-Origin *;\rroot /var/www/...;\rindex index.html;\r}\r 动态页面：\nlocation / {\rproxy_pass http://127.0.0.1:xxxx;\radd_header Access-Control-Allow-Origin *;\r}\r 以上完成后，最好加上 http 的自动跳转：\nserver {\rlisten 80;\rserver_name xxx.shadiao.online;\rlocation / {\r# 重定向https\rreturn 301 https://$server_name$request_uri;\r}\r}\r 重启 nginx 以使新配置生效：\nservice nginx restart\r 设置域名解析 去设置就行了。\n手动更新证书 如果需要手动更新 ssl 证书：\n/root/.acme.sh/acme.sh --cron -f\r 备份与维护 需要备份的内容：\n 各个站点文件 nginx 配置文件  目前的站点列表：\n 我中央信息门户 博客 李华大冒险 实用工具集 ","date":"2021-07-23","permalink":"https://blog.shadiao.online/post/website/","tags":["技术"],"title":"网站维护的常用操作"},{"content":"以下内容均为个人经验，没有统计意义，并且记忆可能有误，所以可能会出现偏差。仅供参考。\n（最新更新：2021年7月6日）\n体检前的准备 为啥体检 申请签证和NUS入学都要求体检。可以抵达新加坡后再体检，但根据多方消息，开学后NUS的校医院人巨多，为了节省时间，还是建议大家在国内体检。学校发的 Handbook 上也是这么说的：\n The medical examination can be done at the University Health Centre (UHC) or as in the case of International students, in the student’s home country.\n  In the interest of time, you are encouraged to do your medical exams in your home country.\n 预约 预约方式：\n 网站：https://yuyue.beijingithc.org.cn （最近网站维护，该通道不可用） 公众号：海关总署国际旅行卫生保健中心（只有工作日白天可约，周末和晚上休息（没想到吧！服务器也要休息！））  预约时选择“出境业务”，具体项目不用操心，体检的时候他们会安排好。\n体检地点是国际旅行卫生保健中心。北京的地点叫“海关总署（北京）国际旅行卫生保健中心”，地址为北京市东城区和平里北街20号。\n 注：有些攻略里（包括 Google Map）显示地址在马甸东路，那是过时的信息！2021年出境体检已经搬到了和平里！\n 体检需要提前预约，人挺多的，尽量早约。我 6 月初预约的，已经排到了 6 月 23 日。\n （此条存疑）体检表需要 FIN 码，所以要保证体检当日 IPA 已申请完成。\n 体检前一天 体检需要抽血并检查腹部超声，所以需要空腹。前一晚 10 点之后不要吃东西，仅少量饮水。次日起床后不可大量饮水。\n通过收集各方消息，我准备了以下材料：\n 护照原件 身份证原件 2 张 2 寸白底照片 IPA Letter 学校 offer Medical Examination Report （IPA 申请完成后，在申请网站下载） NUS 的体检表  实际用到的材料是：\n 护照原件 身份证原件 2 张 2 寸白底照片 Medical Examination Report （IPA 申请完成后，在申请网站下载） NUS 的体检表  注意：\n 两份体检表都要事先填好个人信息（Medical Examination Report 的 Personal Particulars 项和 NUS 体检表的第一页） 要准备 2 张 2 寸白底照片，格式不合格会被批判一番，还要交 60 元现场搞照片  体检当日 起床出发 起床后不要吃饭，仅可少量饮水。有尿检，所以建议别撒尿，不然到时候就得使劲挤。\n穿着上下分开方便穿脱的服装，尽量不要佩戴奇怪的饰品。\n到达现场 现场有门神，需要健康码和行程码。\n进去之后有个二门神，问你去哪干啥的，然后给你个纸片，调查有没有接触过新冠患者之类的，然后放行。\n取号交费 下一步是取号。\n官方规定的取号时间是 7：00 - 10：30，10：30 之后就不能取号了。我 9：20 到的，取号的号码是 135，前面有 44 位。他们 8：00 开始工作，以此推测 80 分钟 处理了 90 人，大概每个人 0.89 分钟。实际情况是，我 10：10 排到了，跟估计的接近。\n有几处排队。取号之后等待时间最长，然后是抽血等了几分钟，最后交表的队伍也挺慢。其他项目基本不排队。全流程结束已经 12 点多。\n排到你之后，会给你一个体检表，上面列了体检项目，签字即可。注意新加坡是先体检后取得签证，所以不能申请兔费体检。体检费用是 646.70 元，支持现金/微信/支付婊。\n检查 交费之后上三楼，墙上有扫码的地方，扫体检表左上角的条码，会告诉你下一步去哪。按照流程逐项检查即可。\n值得注意的是，尿检那个 NPC 会随机抢人。你在旁边做别的项目，如果被她抓住了，她会叫你先去尿检。如果有强迫症不想打乱流程，需要走位躲避。\n具体项目是：\n 心电图 全科检查（身高体重血压视力听诊） 腹部 B 超 抽几坨血 尿检 胸部 X 光  交表 一楼大厅最长的那个队就是。体检完了拿着体检表和两份要医生填的英文表格去。在这里需要 2 张 2 寸白底照片。这个 NPC 比较坑，我带了蓝底的，被要求重新弄，发了个电子版的给他，付费 60 之后他给我整了 8 张 白底的。最好提前准备好。\n之后填个地址单，结果会寄给你。根据官方说法，4 个工作日出报告，1 个工作日邮寄。\n新加坡的体检，体检表上会自动写明需要 X 光报告和 HIV 报告，所以这部分不用担心。\n然后跑路就行了。\n领取 一般来说，选择邮寄的话，北京市区内是第五个或第六个工作日送达。\n第五个工作日下午，我接到一坨电话，说送到学校门口了。我问他你是啥快递，他说你放屁我不是快递，我是体检中心的。高级！\n骑着自行车屁颠屁颠到了门口，一个神秘男子把信封递给我了，然后签了个字，就完事了。\n","date":"2021-06-23","permalink":"https://blog.shadiao.online/post/singapore_body_exam/","tags":["新加坡","NUS","经验分享"],"title":"新加坡签证/NUS入学体检经验分享"},{"content":"对于刚入坑的玩家来说，日麻的算分规则极其复杂，记住役种已经很困难了，还要算番算符。要是遇到面麻四个人都不会算分，就会被水淹没不知所措。如果因为算分起了争执，可能打起来，被打死，十分危险。\n规则都是人定的，定出这样的规则一定有其目的或意义。今天带大家梳理一下日麻的各种计分规则，并介绍它们为什么是这样。\n阅读本文需要的基础知识：\n 麻将和牌规则（至少要知道4面子+1雀头，役种记不全无所谓） 知道日麻的役牌、自风、场风 知道幺九和中张的概念  1. 基本点数之上的计算 最简单的计分 计分是为了什么？当然是为了记录之前的战绩。那么最简单的计分就是：\n 和一局计1分  筹码 但这种规则如果玩钱的话就不好办了，钱只能是一个人给另一个人，不能凭空增加，所以我们稍微改改规则：\n 每和一局，其他三家各减1分，胡牌者加3分  “分”更专业的说法是“点”。换种说法就是：\n 未和牌者每人支付和牌者1点  点炮 这样问题又来了，如果 A 给 B 点炮，最大的责任在 A，点炮者应该支付更多，以示惩罚。有些地方麻将规定点炮者支付的点数加倍，但在日麻中惩罚更为严厉：\n 包付制：点炮者要替其他人支付所有点数   这也是日麻比其他麻将更注重防守的原因之一。此外，这种规则也可以有效防止两家合作坑其他人。\n 比如 A 给 B 点炮，A 不仅要支付自己的 1 点，还要替 C、D 各支付 1 点，于是有：\n 点炮者支付和牌者 3 点  而如果是自摸，则和刚才一样，未和牌者每人支付和牌者1点就行了。\n庄家 庄家，作为本局的起始玩家，拥有特殊的地位，如果能在计分上体现出这种特殊性就好了。我们规定：\n 所有涉及庄家的点数加倍  具体地：\n 庄家荣和，点炮者支付 6 点，庄家得 6 点 庄家自摸，其他三家每人支付 2 点，庄家得 6 点 闲家荣和，点炮者支付 4 点（包付庄家 2 点和两闲家各 1点），和者得 4 点 闲家自摸，庄家支付 2 点，另外两闲家各支付 1 点，和者得 4 点   这就是其他教程里“4a”，“6a”的来历。\n 后记 以上讨论的基本点数都是 1。不失一般性，我们可以整体扩大 a 倍（a 为正整数），即：\n 庄家荣和，点炮者支付 6a，庄家得 6a 庄家自摸，其他三家每人支付 2a，庄家得 6a 闲家荣和，点炮者支付 4a，和者得 4a 闲家自摸，庄家支付 2a，另外两闲家各支付 a，和者得 4a  这里的 a 又要怎么算呢？a 由符数 b 和番数 n 共同确定。下面逐一介绍。\n2. 基本点数计算 —— 符 基于上述讨论，不管和了什么样的牌，得分都一样，这不合理。我们希望能够根据不同的牌面给予不同的得分，以此体现不同牌形的价值。这一点在日麻中通过“符”和“番”来实现。\n符用来对牌面本身进行计分。\n刻子、杠子 面子分为“顺子”（如123）和“刻子”（如444）。显然刻子更难获得，所以我们给刻子额外加分。加分不宜太多也不宜太少。经过实践，一个比较合理的幅度是：\n 和牌时，每有一个刻子，得分增加 0.1a  为了计算方便，我们把 a 规定为 20，于是规则变成：\n 任何和牌的基本点数为 20 和牌时，每有一个刻子，得分增加 2  再精细一些，暗刻比明刻难做，所以暗刻加倍，也就是：\n 和牌时，每有一个明刻，得分增加 2 和牌时，每有一个暗刻，得分增加 4  此外，幺九牌的牌效率较低，一般倾向于提前打出，所以幺九刻子比中张刻子难以获得。我们给幺九刻字的得分奖励也加倍！\n幺九和中张、明和暗，排列组合就有 4 种情况了：\n 和牌时，每有一个中张明刻，得分增加 2 和牌时，每有一个幺九明刻，得分增加 4 和牌时，每有一个中张暗刻，得分增加 4 和牌时，每有一个幺九暗刻，得分增加 8  杠子是比刻子还难做的东西，同样有幺九和中张、明和暗四种情况。对明杠来说，不论是大明杠还是明刻加杠，都需要自己摸 3 张，再获得其他人的 1 张，而自己摸 3 张的难度已经和暗刻等同了，所以明杠其实是比暗刻还难做的东西。因此，明杠的得分是对应暗刻的 2 倍，而暗杠又得是明杠的 2 倍，总结一下就是：\n 和牌时，每有一个中张明杠，得分增加 8 和牌时，每有一个幺九明杠，得分增加 16 和牌时，每有一个中张暗杠，得分增加 16 和牌时，每有一个幺九暗杠，得分增加 32  可以看到，幺九暗杠是很值钱的，直接加了 32 分，牛啊牛啊！\n以上不用死记硬背，只要知道最基础的“中张明刻+2符”，然后幺九加倍、暗加倍、明杠是暗刻的二倍，就可以现场推导。\n雀头 为了体现役牌的地位：\n 役牌雀头 +2 符  注：如果是自风场风重合，就是双重役牌，双倍的快乐，+4 符。\n听牌 根据前面的尿性，越是概率低的东西，加符越多。物以稀为贵嘛！听牌也是一样。多数情况下，人们倾向于做“好型听牌”，例如 23 听 14，听的牌有两种（1和4），这就比较普通，不加符。如果你听的牌只有 1 种，则 +2 符。\n只听 1 种牌只有以下三种情况：\n 边张：例如 12 听 3、 89 听 7 嵌张：例如 24 听 3 单骑：就是单听那一张雀头  于是：\n 边张、嵌张、单骑听牌 +2 符  需要注意的是：\n 如果是组合型多面听，按照最终和到的牌对应的牌型计算。例如 1113，虽然听 23，是两种牌，但我和 2 时，实际上是 13 听 2，算嵌张，也加符。 有多种算法，按照符多的算。例如 23345，和了 4，既可以看成 23 听 14，也可以看成 35 听 4。如果这里不影响番数计算的话，应该按照嵌张计算，+2 符（之所以加了个“不影响番数计算”的条件，是因为算番的时候，这里可能会影响到是否为平和，从而影响番数，但无论如何都是按照最终打点高的计算方式）。（这是日麻的大原则，多种算法总是按最终打点高的算，后面算番也一样，不再重复）  和牌方式 和牌方式有两个维度：是否门前清、是自摸还是荣和，4种情况。显然门前清比副露厉害，自摸比荣和厉害。下面逐个讨论。\n副露自摸 +2 符，这是对自摸的奖励。\n门前清自摸最厉害，但这个直接算 1 番，所以就不针对门前清额外加符了，和副露自摸一样 +2 符。\n门前清荣和，仅仅因为最后一张牌不是自己摸到的，就痛失一番，一番大概相当于 20 符（实际不是，只是粗略估计），那门前清荣和勉强算半番，也就是 +10 符。\n副露荣和，啥都没有。\n上面看着乱，但总结一下就这两种情况：\n 自摸 +2 符 门前清荣和 +10 符  进位 看到这是不是已经吐了？如果直接这样算出基本点 a，没有番还好，有番的话，要用 a 做很多复杂计算，很麻烦。为了便于计算，人们规定：\n 算完符之后，一律向上取整到整十  比如算出来 28 符，就进位到 30。32 符就进位到 40。\n特殊情况 有两种特殊牌型，下面逐一介绍。\n特殊情况一：七对子 七对子是固定 25 符，不管你听的啥和的啥有没有雀头，都是固定 25 符，并且不进位到 30. 这是因为，刚有七对子的时候是 0 番 100 符（没错，那时候还有“0番”的说法），后来七对子改成了 2 番，为了和原来 0 番 100 符保持一致，就改成了 2 番 25 符（25*2^2=100 嘛！）。\n特殊情况二：20符 最少的符是 20 符。但有许许多多加符的规则，所以一般都会超过 20 符，但还是会有倒霉蛋和到 20 符，这太少了，和了一大顿才 20 符，让人想掀桌。所以加了这么一条规则：\n 如果按照符最多的算法算出来还是 20 符，自动进到 30 符  是不是很简单粗暴！\n很多规则里把这个称为“副露平和型的荣和”，这是把简单问题复杂化了。因为“副露平和型的荣和”其实等价于按照符最多的算法算出来 20 符，证明留给大家自行思考。\n注：平和按 20 符计算，不进到 30 符。平和如果按照符最多的算法，一定不是 20 符。平和是门前清限定，而门前清不论自摸还是荣和都有额外加符，只不过为了获得平和的 1 番放弃了额外加符而已。（这也符合前面说的“最终打点最大化”的大原则）\n算符流程总结 实战中，可以参考以下算符流程：\n 看是不是七对子，如果是，直接 25 符，结束；否则获得底符 20 计算刻子和杠子的加符 计算听牌方式的加符 如果算到这里还是 20 符，则转到 6；否则转到 7 如果是门前清，是平和 20 符；如果是副露自摸，是 22 符；如果是副露荣和，则是 30 符；转到 8 如果是自摸，额外 +2 符；如果是门前清荣和，额外 +10 符，副露荣和不加符 进位到整 10，结束  算完符之后，我们得到了一个符数，为了方便，下面记作 b。\n3. 基本点数计算 —— 番 如果没有番这一说，则符数 b 就是基本点数 a。但不同的牌型稀有度是不一样的，例如九莲宝灯显然比断幺九厉害。番就是用来衡量稀有度的。本文重点讲计分原理，所以就不重点介绍不同番型了，可以看后面的附录。\n番分为普通番和役满，我们先说普通番。普通番就直接把所有成立的番数加起来，比如立直对对和，就是 1+2=3 番。\n满贯以下 下面假设我们已经得到了符数 b 和番数 n。番就是翻倍，最简单的算法是：\n $a=2^nb$  实际上，为了计算方便，人们还是将 a 对齐到整百。a 如果太小了，对齐就会有较大误差（比如 1 番 30 符，a=30，你是算 0 还是算 100？尴尬不？）。为了解决这一问题，人们统一在指数上加了个 2：\n $a=2^{n+2} b$  之后，直接按照第 1 节的方法，根据 $a$ 计算出待支付点数，然后不足 100 的进位到 100（点棒的最小单位是 100）。\n例：闲家自摸 4 番 30 符，a=1920，另外两个闲家每人支付进位后的 2000，庄家支付 2a = 3840，进位后是 3900（注意不是先进位到 2000 再乘 2！）。所以此人最终获得 2000 + 2000 + 3900 = 7900.\n把以上内容写成数学公式，就是这个让初学者一头雾水的东西：\n$$N = 100 \\lceil \\dfrac{kb2^{n+2}}{100} \\rceil$$\nk 是第 1 节说的 a 前面的系数，N 是此人要支付的点数。\n但这公式屁用没有，实际计算的时候，用的都是 $a=2^{n+2} b$。\n平滑化 实战中 30 符很常见，我们以 30 符为例算一下不同番的基本点：\n   番数 基本点     1 240   2 480   3 960   4 1920   5 3840   6 7680   7 15360   8 30720    可以看到，这里存在一个指数爆炸的问题，如果闲家点闲家的 8 番 30 符，按照上面算法竟然要支付 122900 点，而四个人点棒加起来才 100000 点，如果真的发生这种事情，点炮者只点了 8 番就要输光内裤，很可能会羞愤而死，非常危险。为了解决这一问题，我们需要对较大的番数进行特殊处理，不让他指数爆炸。\n最简单的方法就是设计一个上限，习惯上取了个 4 番~ 5 番附近的点数 2000。我们规定：\n 如果 a \u0026gt; 2000，则按 2000 计算  我们来看看这意味着什么。最小的符数是 20 符，20 符 4 番是 1280 点，20 符 5 番是 2560 点，所以大于等于 5 番时，a 一定是 2000. 而番数小于 5 番时，符数较大也会达到 2000，例如 4 番 40 符（a=2560），3 番 70 符（a=2240），2 番 130 符等。我们把这种 a 超过 2000 的情况称为“满贯”，直接计 a=2000.\n可以看到，5 番是一个分水岭。只要达到 5 番，一定是满贯（这也意味着 5 番及以上不用算符了，妙极了）。\n但如果只这样，又不太好，5 番和 13 番都是 2000 点，和 13 番的人可能会羞愤而死，非常危险。我们可以设一个循序渐进的界限：\n 如果 1~5 番，a \u0026lt; 2000，正常计算 如果 1~5 番，a \u0026gt; 2000，称为满贯，取 a = 2000 6~7 番，称为跳满（即 1.5 倍满贯），取 a = 3000 8~10 番，称为倍满，取 a = 4000 11~12 番，称为三倍满，取 a = 6000 13番及以上，称为累计役满（即 4 倍满贯），取 a = 8000  好起来了！\n役满 刚才我们提到了累计役满。实际上，番数表里面除了常规的番，还有专门的“役满”。这些“役满”都是极难达成的，为了体现它们的特殊地位，就设立了役满的规则。\n役满可以理解为“高阶满贯”。正如满贯让玩家可以忽略符数，役满可以让玩家忽略普通的番数，而只计算役满。例如同时成立清一色和绿一色时，只计算绿一色的役满，不计算清一色的 6 番（或 5 番）。\n役满和累计役满一样，a = 8000，非常好算。\n但役满之间允许复合（累计役满和役满不能复合！因为累计役满的本质不是役满，而是四倍满贯，十三番！）。例如天和国士无双十三面（拿阳寿打牌？），就是三倍役满，a = 24000，此时不计其他的普通番数（比如宝牌）。\n4. 流程总结 终于介绍完了。总结一下完整的算分流程，如下图：\n附录：番数表 这个人很懒，这里忘了放！\n","date":"2021-05-20","permalink":"https://blog.shadiao.online/post/mahjong/","tags":["游戏","学习"],"title":"日麻算分规则推导（附流程图）"},{"content":"鲁迅曾经说过，好的心态是成功的一半。在准备演之前，一定要调整好心态：\n告诉自己：从现在开始我就是一个演员！以后将狠下心来演，坚决不好好打！\n这种心理建设十分重要，很多初心者往往不习惯坑人，或者遇到顺风局就贪了，忍不住好好打，结果功亏一篑，半途而废，演员炼成计划大失败。\n前言：暗改机制浅说 在一款游戏中，匹配机制和暗改机制一直备受诟病。众所周知，游戏可以通过许多方式改变比赛公平性，例如故意匹配坑队友、强行让人掉线、暗改数值与技能方向等。大量事实使人们认识到：\n排位赛的胜率、个人评分、战绩等一切内容完全是由系统操控的。\n系统这么做的目的是最大限度增加整体活跃度。注意是整体活跃度，而不是单个玩家的活跃度，因为整体活跃度才是和利润直接相关的。一款游戏火，自然容易赚钱。\n为了达到这一目的，系统需要的不是公平竞技，也不是让所有玩家胜率都是 50%。一款游戏必须有人打得好，有人打得不好，这样才有热度。所以：\n 系统会随机安排一些玩家打得好，把他们暗改到碾压大多数玩家，这样才会有主播出现，才会有各种比赛出现，游戏自然会火 同时，大多数人都被暗改到 50% 胜率，以增加用户粘性，就是所谓的“韭菜” 少数玩家会变成“坑货”，段位迟迟上不去。这也是没办法的事，因为每个段位都得有人啊，不然随便抓一个人都是王者，这游戏谁爱玩？所以必须有人卡在黄金白银，当然这部分人占少数，因为他们很容易弃坑，丢了玩家官方就亏了  几乎所有玩家都知道“系统暗改”这一现象，但许多人的认识并不全面，暗改并不是简单地让你向 50% 胜率回归，而是从根本上直接决定你的所有表现，包括段位、个人评分、不同英雄的“水平”，都是系统内定的。而具体你会被暗改到什么水平，全看运气。你的段位，仅取决于运气和局数，而与水平毫无关系。\n所以要演！ 如上所说，如果我们真的认真玩游戏，就给官方当了韭菜了。同时，对于官方这种行为，我们必须奋起反抗，这就是“演”的起源。我们总结了演的好处：\n 恶化游戏环境  这并不是愤世嫉俗，短暂的恶化游戏环境是为了在更长远的尺度上游戏环境变好。演员多了游戏环境自然差，官方就要付出代价，包括完善举报机制、减少暗改行为等，而这些行为都是好的。\n收获快乐  想明白了暗改机制，好好打游戏就没有快乐了，因为一切都是系统内定的。五杀也好，MVP 也罢，那些高光时刻都和你的水平无关，这样玩游戏乐趣何在？而演就不一样，演是在和系统斗智斗勇，在坑人中收获无尽的快乐。看着其他玩家气到跳脚又无能为力，想骂你又怕被举报，你不高兴吗？\n演才能上分  演可以降低你的评分，让系统误认为你菜，自然会优化你的游戏体验，包括让你伤害更高、血更多、对面更坑等。这就是**“演才能上分”**。\n演员的核心理论 在实践中，“演”唯一目标是坑人。所以一定要让其他玩家知道你在演，让他们知道你故意不好好打气他们。另一方面，“演”会被举报扣分，扣分多了就禁赛了，为了实现可持续发展，我们要让系统不知道我们在演。这就是演的核心理论：\n尽量让玩家知道你在演，尽量让系统不知道你在演。\n演的具体技术 下面进入本文的正题：具体演法。我们大体按时间顺序介绍。\n0. 调整心态 鲁迅曾经说过，好的心态是成功的一半。在准备演之前，一定要调整好心态：\n告诉自己：从现在开始我就是一个演员！以后将狠下心来演，坚决不好好打！\n这种心理建设十分重要，很多初心者往往不习惯坑人，或者遇到顺风局就贪了，忍不住好好打，结果功亏一篑，半途而废，演员炼成计划大失败。为此，我们要充分认识暗改机制，坚持以下两个基本点：\n 打得好不是你厉害，打得菜也不是你菜！一切都是运气，都是内定！ 胜率是天定的，演并不会影响胜率，所以不要不舍得演顺风局！  唯有坚定不移地坚持以上演员思想，我们才能成为优秀的演员。\n1. 上演演“未局” 俗话说，上演演未局，中演演中局，下演演已局。意思是，好的演员在没开始对局的时候就已经演上了，普通演员在对局中才演，而辣鸡演员都快打完了要输了才想起来演两下。我们要“演未局”。具体技术有以下几种：\n1.1 改个搞人心态的名字 类似“以后每局必演”、“我专门气你们”这种名字，让人看了就心态炸裂，演人于未局。\n注意过于搞人的昵称会被举报违规，笔者曾经用“以后每局必演”被举报过。举报成功的后果是，官方给你一张改名卡并勒令改名，如果迟迟不改就封号。虽然本质上没啥伤害，但听说一直被举报昵称后果比较严重，所以如果你被举报了两三次昵称，就收敛点，味别太冲，类似“专业送塔”这种名字是没问题的。\n1.2 定制快捷消息 “干得漂亮”是必备的，后面会说具体用法。其他搞人心态的快捷消息主要是听起来比较阴阳怪气的，或者进攻性强的，比如”准备越塔强攻！“、”兄弟们，一波啦！“（这条在我方被对面一波的时候发最佳）。\n具体用什么消息取决于个人习惯，只要对局前设置好就好，要把常用的放到上面，甚至可以多重复几条，防止点错。不一定设置满，怎么方便怎么来。\n1.3 设置全能选手 全能选手最后选人，其好处我们马上会说到。\n没有全能选手的，去刷一波就好。全能选手只看熟练度，不看水平，所以多打几局都能有。\n1.4 提前设置输入法 输入法里面要配置好各种言论，包括但不限于：\n 选人阶段“昭告天下”的发言 申诉常用言论 反举报成功后的嘲讽言论  以上内容含义与具体话术后面会讲。看完本文后，大家可以把这些语句准备好，提前设置到输入法快捷消息里，保证能迅速发出。省时省力。\n2. 开屏雷击 现在，你开局了，系统为你匹配到了 4 个可怜的队友。要怎么演呢？\n2.1 昭告天下 在 ban 人和其他人选人的时候，先别声张，闷声发大财，不让他们知道你要演。等他们选完了拿手英雄（可能有的人还选了准备冲战力的英雄！），你再昭告天下，他们一定炸裂！\n昭告天下指的是在聊天框中快速发言，让大家明白你是演员，范例话术如下：\n 我要坑人！我是专业演员，你们要被我坑了！\n 具体内容大家自行发挥，类似的话准备 2~3 句即可。时机一到迅速发出。\n注意：这个阶段的发言不会被客服查看，所以一定要利用好！对局中就不能说话了，否则分分钟禁言你！\n昭告天下的时机不能过早或过晚。过早他们会提前意识到你要演，可能他们会趁机练英雄坑人，你就气不到他们了；过晚有的人没来得及看完你的文字就开局了，一样不好。\n由于我们设置了全能选手，绝大多数对局我们都是 5 楼。如果我方先选，顺序是我方 1 楼、我方 23 楼、我方 45 楼，那么在我方 23 楼选完人之后你就可以昭告天下了，可以坑三个人，并且其他人有充足的时间来看你的“虎狼之辞”。如果我方后选，我方 34 楼选完再昭告天下即可。\n2.2 针对性演人 昭告天下之后，就该我们选人了。策略有 3 种，这三种都可以，看具体情况选用：\n 正常选人 练英雄 针对性演人  正常选人指的是像正常人一样补位。练英雄就是选不拿手的英雄。\n重点说一下“针对性演人”技术。我们要找一个倒霉蛋，选和他一样的位置，他是射手你就选射手，他是打野你也选打野，然后一直跟着他蹭经济，他必然被气到爆炸！\n“针对性演人”风险高，演不好会被举报成功，所以不宜一直使用。什么时候使用呢？俗话说“枪打出头鸟”，如果选人的时候有人发言表达出自己很想赢，比如他说“我晋级赛，都好好打”，或者他发了金牌银牌战绩，或者说“我带飞”之类的话，这种人往往比较暴躁，这时候就针对性演他一手。说不定他还会骂我们或者反演我们，那就赚大了，对局之后直接举报，举报成功了嘲讽他一波（对局后的举报嘲讽技术后面会说），他得气死！\n3. 对局中 演员界有一句话，叫三分场内七分场外，意思是演员发挥的主要场景不是“对局中”，而是对局外。事实上，为了避免被举报封号，对局中我们能做的事很有限（详见“降低被举报几率的 tips”）。真正的演技还是要靠对局前和对局后。\n但不得不说，对局毕竟是一局游戏的主体部分，是一场好戏的骨架，所以还是不能掉以轻心。\n3.0 降低被举报几率的 tips 我们把这块放到前面来讲，因为 99% 的被举报都是对局中演技出现了纰漏造成的。一定要牢记，留得青山在，不怕没柴烧，演固然重要，但要是被封号就得不偿失了，所以一定要注意。\n控制战绩 我们虽然是演，但千万不要送人头。我们这种专业演员，违规率一定相当高，所以战绩稍微有一点风吹草动就申诉不成功。牢记以下几个原则：\n KDA 别太差 不要死太多次 适当打输出 混够参团率  如果战绩记作 a - b - c，我们一般要把战绩控制到 a ≈ b，a 和 b 的值看其他队友，如果他们打的好，你可以打到 5-3，6-4 都没问题，但如果他们打得不好，你也不能演太猛，0-4，0-5 这种会被举报的。可以打 0-3-3，1-2-2 这种，看起来比较混，但真的计算 KDA 又不太低那种。\n下一步是控输出太高会失去坑人的意义，输出太低会被举报，一般建议控制在 10-15% 左右为最佳，不能低于 10%，否则必被举报成功。输出在游戏中没有实时显示，比较难控制，推荐使用时间片轮转法：例如你平时的输出是 20%，那么你在第 3n、3n+1 分钟正常打输出，3n+2 分钟摸鱼，输出就大致是以前的 2/3 了。\n参团率 = （你的人头 + 你的助攻）/ 全队总人头\n我们要控制参团率在 20% 以上，不然容易被举报。也就是说全队每产生 4 个人头，你就得去混一个助攻了（等 5 个你再去混可能来不及！）。如果演太猛了混助攻有困难，可以出极影，只要你站在队友边上，他杀人就算你的助攻。\n谨言慎行 对局中一句话也不要说，不要发文字消息，不要语音里面说话！现在言语违规处罚很重，我平时举报别人，只要对方稍微有一点不礼貌发言就是扣 7 分禁言 24 小时！\n其他话也不要说，不能在对局中说“我是演员”一类的话，否则会被举报态度消极。反正别说话就对了，我们有许多别的演法，何必非要撞枪口呢？\n3.1 “干得漂亮”！ 漂亮栈 虽然不能说话，但发快捷消息是不犯法的。只要发生了对我方不利的事件，就发一个“干得漂亮”，很多人会心态炸裂的！不利事件包括但不限于：\n 我方有人死亡 我方防御塔被摧毁 对方拿到龙  有时候我方不利事件太频繁，快捷消息 CD 不够，这时候我一般用“漂亮栈”法，维护一个 int 用来记录当前栈中有几个待发的“干得漂亮”，CD 好了就发一个，直到发完为止。\n失去爆破 有时候，“漂亮栈”中还有没发的消息，但这时候发生了对我方有利事件，比如队友拿了人头，这时候会发生失去爆破，立刻清空“漂亮栈”，剩余内容不再发。（否则队友会误认为我们在夸他）\n扩展 还有许多快捷消息可以利用，希望大家展开脑洞自行开发，这里举一例：在我方死了好几个人，对方开始推塔的时候，可以发“兄弟们，一波啦！”，当队友被反野可以发“请不要在野区踏青”。\n记得把要用的快捷消息提前设置好！\n3.2 卖队友 演的时候还有很多实用的卖队友技术，这里举几例，其他有待大家自行发掘。\n 大乔往危险地方开大 对面东皇咬住队友之后疯狂打东皇 假装和队友一起抓人，队友上了我们就跑  3.3 眼观六路 我们的最终目的是气人。**有什么比被坑了还被举报更气呢？**我们对局中一定要认真观察其他队友有无违规行为，如果有，记住他是谁，犯了哪条，对局之后一定要举报！言语违规和挂机基本必成，而且很容易有人被我们演到骂人/挂机，所以一定要记住谁违规了！\n4. 对局后 对局结束之后，真正的“演”才刚刚开始。\n4.1 申诉 由于长期演，我们会有 80% 的对局会被举报，并且由于违规率高，举报几乎必然成功，但不要害怕，只要演技高超，申诉的成功率几乎是 100%，信誉积分和信誉经验会返还的（但是违规率不下降，这就是违规率居高不下的原因）。\n点开邮箱里的被举报通知，然后选择“客服反馈”，就可以申诉了。申诉的话术要注意以下几点：\n 态度端正，不要骂人，也不用低声下气，正常语气就行 要清楚地表达“我没有违规”、“客服可以自行查看录像”，只要提到这两点并且没有犯太明显错误，申诉都能成功 可以多写几句，增加说服力，随便找点借口就行，例如“这局对面阿轲老抓我”，尽管阿轲一次也没抓死你，你这么说也没事，反正客服不会注意这些  4.2 反举报 就是举报其他人。如果有人战绩不佳，或者骂人了，或者挂机了，举报他！别忘了一举不成功可以深入举报！\n尤其是言语违规和挂机，这两种举报成功率极高，并且不能申诉，不要错过！\n4.3 嘲讽 如果有人对局中被我们气到了，或者我们反举报成功了，可以发消息嘲讽他。\n怎么发消息呢？在战绩中找到这局，点那人头像（可能要多点几次才能成功），进入该人资料页，有一个绿色的“发送消息”，这个是通过微信游戏发送的，所以只要不太过分，不会被举报。而且只要你关闭了微信游戏入口，他们连还嘴的机会都没有！\n说啥呢？各位自行发挥，比如“我是专业坑人的，我是上把后羿，我故意演你，你骂人被我举报了。”\n可以连续发送三句！\n后记 演员之路，道阻且长。今天就给大家介绍到这里，希望大家早日成为最强演员！\n","date":"2021-05-02","permalink":"https://blog.shadiao.online/post/act_wzry/","tags":["游戏"],"title":"演员大型教程——怎么演气人还不被举报？"},{"content":"记录一下给腾讯云 GPU 服务器安装 tensorflow-gpu 的过程。这玩意事挺多。\n检查必要的东西 检查 Python 版本：\n$ python3\r 腾讯云自带了 Python3.6。如果没有就装一下。\n验证系统是否有支持 CUDA 的 GPU：\n$ lspci | grep -i nvidia\r 确认系统已经安装了 gcc：\n$ gcc --version\r 安装 CUDA 1. 下载 下载 NVIDIA CUDA 工具包，在这找下载链接：\nhttps://developer.nvidia.com/cuda-downloads\n我们装 CUDA Toolkit 11.2 Update 2，target_type 选 runfilelocal 即可。\n2. 安装 首先禁用 Nouveau 驱动\n$ vim /etc/modprobe.d/blacklist-nouveau.conf\r 如果已有内容就在最后添加，如果是空文件直接输入：\nblacklist nouveau\roptions nouveau modeset=0\r 然后执行\n$ dracut --force\r 安装很简单：\n$ sh cuda_\u0026lt;version\u0026gt;_linux.run\r 输入 accept，之后就一直按 install 与 yes 就行了。执行安装程序会安装自动安装与 CUDA 对应的驱动，所以请不要单独安装驱动。\n3. 设置环境变量 $ vim /etc/profile\r 文件末尾添加：\nexport PATH=/usr/local/cuda/bin:$PATH\rexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\rexport PATH=/usr/local/cuda-11.2/bin:$PATH\rexport LD_LIBRARY_PATH=/usr/local/cuda-11.2/lib64:$LD_LIBRARY_PATH\r 执行\n$ source /etc/profile\r 4. 测试 $ nvcc -V\r$ nvidia-smi\r 都能看到输出说明大成功，否则完犊子。\n安装 cudnn https://developer.nvidia.com/rdp/cudnn-archive\n要先注册 nvidia 账号，哈哈。\n然后干就完了：\n$ mv cudnn-\u0026lt;version\u0026gt;.solitairetheme8 cudnn-\u0026lt;version\u0026gt;.tgz\r$ tar -xzvf cudnn-\u0026lt;version\u0026gt;.tgz $ cp cuda/include/cudnn*.h /usr/local/cuda/include\r$ cp cuda/lib64/libcudnn* /usr/local/cuda/lib64\r$ chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*\r 安装 tensorflow-gpu $ pip3 install tensorflow-gpu\r 然后菜了，报错 python setup.py egg_info failed with error code 1。需要先更新一波 pip：\n$ pip3 install --upgrade setuptools\r$ python3 -m pip install --upgrade pip\r 装完了进入 Python，测试一波：\n\u0026gt;\u0026gt;\u0026gt; import tensorflow as tf\r\u0026gt;\u0026gt;\u0026gt; tf.test.is_gpu_available()\r 又菜了，他说找不到 libcusolver.so.10。我看了一下，/usr/local/cuda-11.1/lib64/ 里面有个 libcusolver.so.11，好家伙，这不是有病嘛，都 11.2 了还在找 .10，封建遗毒啊！来一个骚操作骗他一手：\n$ ln -s /usr/local/cuda-11.2/lib64/libcusolver.so.11 /usr/local/cuda-11.2/lib64/libcusolver.so.10\r 然后就好了。\n参考文献 [1] https://blog.csdn.net/qq_35540540/article/details/108767800\n[2] https://github.com/tensorflow/tensorflow/issues/43947#issuecomment-739617116\n","date":"2021-04-02","permalink":"https://blog.shadiao.online/post/centos8/","tags":["技术"],"title":"CentOS 8 配置 tensorflow GPU"},{"content":"（持续更新中）\n序  小孩儿小孩儿你别馋， 过了腊八就是年； 腊八粥，喝几天， 哩哩啦啦二十三； 二十三，糖瓜粘； 二十四，扫房子； 二十五，冻豆腐； 二十六，炖猪肉； 二十七，宰公鸡； 二十八，把面发； 二十九，蒸馒头； 三十晚上熬一宿；\n 正月 大年初一，马勒戈逼； 大年初二，像个傻蛋儿； 大年初三，高位截瘫； 大年初四，不识大字； 大年初五，半截入土； 大年初六，绩点没救； 大年初七，呜呼归西；\n正月初八，房倒屋塌； 正月初九，倒拔垂杨柳； 正月初十，掉进化粪池； 正月十一，变成落汤鸡； 正月十二，出门捡破烂儿；\n","date":"2021-02-24","permalink":"https://blog.shadiao.online/post/daily_poem/","tags":["沙雕"],"title":"每日怪诗——大年初二，像个傻蛋儿"},{"content":"我们经常会用到 Python 的各种库，坠痛苦的就是有一些实用的命令记不住，用的时候只好现查，而且这个效率 efficiency…… 所以啊，我整了这么个速查表，以后直接在这里找就好了。\n本贴会持续更新~\n 注意：本文不是教程，而是速查表。\n 实用工具 datetime import datetime\r 官方文档：https://docs.python.org/zh-cn/3/library/datetime.html\n日期和时间均用datetime.datetime类的对象表示，所以我们先介绍该类的方法\nnow = datetime.datetime.now() # 当前时间，类型：datetime.datetime\rnow.year # 获取年（int）\rnow.month # 月\r# 类似地还有：day, hour, minute, second, microsecond\r datetime与字符串之间的转化\n# datetime到字符串用strftime（f是format的意思）\rnow.strftime('%Y-%m-%d %H:%M:%S') # '2020-09-02 17:45:18'，注意大小写\r# 字符串到datetime用strptime\rdatetime.datetime.strptime('2020-09-02 17:45:18', '%Y-%m-%d %H:%M:%S')\r# 这个方法很灵活，根据实际情况来写就行，比如你拿到的数据是'2020年9.2'\rstr_time = '2020年9.2'\rdatetime.datetime.strptime(str_time, '%Y年%m.%d') # 就可以正确生成\r# 除了%Y，%m这些，还有许多其他类型的代码，完整格式代码请查看https://docs.python.org/zh-cn/3/library/datetime.html#strftime-and-strptime-format-codes  时间差\n# timedelta类用来处理时间差\ra = datetime.datetime.strptime('2020-09-02 17:45:18', '%Y-%m-%d %H:%M:%S')\rb = datetime.datetime.strptime('2020-09-03 17:46:18', '%Y-%m-%d %H:%M:%S')\rdelta = b - a # 返回timedelta对象\rdelta.days # 1\rdelta.seconds # 60\r# 注意只有 days. seconds 和 microseconds 会存储在内部，days=1，seconds=60表示这个时间差是1天零60秒，这个结果是唯一的，seconds满一天会自动进位，所以并不会出现days=0，seconds=86460这种情况。\r 数据处理 numpy 这部分主要整理自 https://cs231n.github.io/python-numpy-tutorial/\nThis tutorial was originally contributed by Justin Johnson\n创建 numpy 的核心是 array，它可以表示高维张量，包括向量（rank=1）、矩阵（rank=2）、三阶张量（rank=3）等。我们有很多种方法创建 array：\nimport numpy as np\ra = np.array([1, 2, 3]) # 通过list创建array\rb = np.array([1, 2, 3], [4, 5, 6]) # rank=2，矩阵\rprint(b)\r# [[1 2 3]\r# [4 5 6]]\rc = np.zeros((2, 2)) # 创建2*2的全0矩阵\rd = np.ones((1, 2)) # 1*2的全1矩阵\re = np.full((2, 2), 7) # 2*2，元素都是7\rf = np.eye(2) # 2*2单位矩阵\rg = np.random.random((2, 2)) # 2*2随机矩阵\r 索引与切片 可使用list作为下标进行索引，并且支持与python类似的切片操作。\n与list不同的是，array的切片操作返回的是引用，因此修改切片后的值会修改原array的值！\n# Create the following rank 2 array with shape (3, 4)\r# [[ 1 2 3 4]\r# [ 5 6 7 8]\r# [ 9 10 11 12]]\ra = np.array([[1,2,3,4], [5,6,7,8], [9,10,11,12]])\rb = a[:2, 1:3]\r# [[2 3]\r# [6 7]]\r 如果某一维度的索引是 int，array会进行降维。要想避免降维可以使用单个元素的 list：\nrow_r1 = a[1, :] # 矩阵惨遭降维成向量 row_r2 = a[1:2, :] # 如果把1改成1：2，虽然数据一样，但是不降维\rrow_r3 = a[[1], :] # 用[1]也不降维\rprint(row_r1, row_r1.shape)\rprint(row_r2, row_r2.shape)\rprint(row_r3, row_r3.shape)\r# [5 6 7 8] (4,)\r# [[5 6 7 8]] (1, 4)\r# [[5 6 7 8]] (1, 4)\r 切片操作得到的永远是原来 array 的 subarray，如果我想重组怎么办呢？比如 [[1, 2], [3, 4]] 我想得到 [[3, 4], [1, 2], [1, 2]]，可以使用 integer array indexing：\na = np.array([[1, 2], [3, 4]])\rb = a[[1, 0, 0], [0, 1]]\r# b是[[3, 4], [1, 2], [1, 2]]，即a的第1行、第0行、第0行拼接\r boolean array indexing 很强大，允许我们进行筛选：\na = np.array([[1,2], [3, 4], [5, 6]])\rbool_idx = (a \u0026gt; 2) # Find the elements of a that are bigger than 2;\r# this returns a numpy array of Booleans of the same\r# shape as a, where each slot of bool_idx tells\r# whether that element of a is \u0026gt; 2.\r# [[False False]\r# [ True True]\r# [ True True]]\r# We use boolean array indexing to construct a rank 1 array\r# consisting of the elements of a corresponding to the True values\r# of bool_idx\rprint(a[bool_idx])\r# We can do all of the above in a single concise statement:\rprint(a[a \u0026gt; 2])\r# [3 4 5 6]\r# [3 4 5 6]\r pandas import pandas as pd\r# 读取excel，第0个sheet\rdf = pd.read_excel('./filename.xlsx', 0)\r# 获取行数、列数\rnrow = df.shape[0]\rncol = df.shape[1]\r### 切片、筛选、提取数据 ###\r# 直接通过'[]'，字符串表示列，数字表示行\rdf['price'] # 选取名字为'price'的列\rdf[['name', 'price']]\t# 选取多列，把列名放在list里\rdf[:2]\t# 第0行和第1行，这里和list的切片操作一样\r# iloc和loc：索引用iloc，列名用loc。iloc和loc的优势是可以进行筛选\r# loc用法：df.loc[index, column_name]\r# 一个大坑：loc的行索引是闭区间，而不是python通用的左闭右开（但iloc是正常的）\rdf.loc[2, 'price']\t# 第2行，名字为'price'的列\rdf.loc[[2,3],['name','price']] # index和column_name都可灵活使用list或切片\rdf.loc[df['price']\u0026lt;100,'name'] # 筛选，注意筛选条件是针对行的\r# iloc用法：只要把loc的列名改成索引\rdf.iloc[df['price']\u0026lt;100, 2:5] # 一样可以灵活组合list和切片\rdf.iloc[df['price']\u0026lt;100 | df['price']\u0026gt;200] # 筛选条件'|'表示或，'\u0026amp;'表示与\r sklearn # 线性回归\rfrom sklearn import linear_model\r# 训练数据：X_train, y_train，测试数据：X_test\rlm = linear_model.LinearRegression()\rmodel = lm.fit(X_train, y_train)\ry_pred = model.predict(X_test)\r# 交叉验证\rfrom sklearn.model_selection import cross_val_score\rcross_val_score(m, X, y, cv=5, scoring='neg_mean_squared_error') # 5-fold cross validation, m是sklearn的model\r 数据结构 heapq import heapq as hq\r# python的heapq库是在list的基础上添加了堆的操作\r# heapq有两种方式创建堆，一种是使用一个空列表，然后使用heapq.heappush()函数把值加入堆中\rnum = [1,1,4,5,1,4]\rheapq.heappush(heap, num)\r# 另外一种就是使用heapq.heapify(list)转换列表成为堆结构\rheapq.heapify(num) # 这时候num也变成堆了\r 网络/爬虫相关 requests import requests\r# get请求\rhtml = requests.get('www.baidu.com').text\r# get请求可以优雅地加参数\rparams = {'q': '搜索测试'}\rresponse = requests.get(url='www.google.com/search', params=params).text\r BeautifulSoup from bs4 import BeautifulSoup\r# 之前用request获取html\rbs = BeautifulSoup(html, 'html.parser')\r# 查找标签，返回标签html字符串的list\rp_list = bs.findAll('p')\t# 查找所有\u0026lt;p\u0026gt;标签\rdiv_list = bs.findAll('div', attrs={'class': 'primary'})\t# 带条件筛选\u0026lt;div class='primary'\u0026gt;\r# 条件可以是正则表达式\ra_list = bs.findAll('a', string='[abs]')\t# 字符串包含[abs]\r json import json\rimport requests\rdata = requests.get('www.baidu.com').content.decode()\t# 某请求返回的字符串格式的json\r# 字符串转json\rdata_js = json.loads(data)\r","date":"2021-02-22","permalink":"https://blog.shadiao.online/post/python/","tags":["技术"],"title":"Python 速查表"}]